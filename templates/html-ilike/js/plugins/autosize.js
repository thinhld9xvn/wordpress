"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).autosize=t()}(void 0,function(){var o,n,p="function"==typeof Map?new Map:(o=[],n=[],{has:function(e){return-1<o.indexOf(e)},get:function(e){return n[o.indexOf(e)]},set:function(e,t){-1===o.indexOf(e)&&(o.push(e),n.push(t))},delete:function(e){e=o.indexOf(e);-1<e&&(o.splice(e,1),n.splice(e,1))}}),c=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(o){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function t(e){e=p.get(e);e&&e.destroy()}function r(e){e=p.get(e);e&&e.update()}var e=null;return"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((e=function(e){return e}).destroy=function(e){return e},e.update=function(e){return e}):((e=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){function n(e){var t=i.style.width;i.style.width="0px",i.style.width=t,i.style.overflowY=e}function r(){var e,t;0!==i.scrollHeight&&(e=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(i),t=document.documentElement&&document.documentElement.scrollTop,i.style.height="",i.style.height=i.scrollHeight+d+"px",l=i.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t))}function o(){r();var e=Math.round(parseFloat(i.style.height)),t=window.getComputedStyle(i,null),o="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):i.offsetHeight;if(o<e?"hidden"===t.overflowY&&(n("scroll"),r(),o="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight):"hidden"!==t.overflowY&&(n("hidden"),r(),o="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight),u!==o){u=o;o=c("autosize:resized");try{i.dispatchEvent(o)}catch(e){}}}var i,d,l,u,s,a;(i=e)&&i.nodeName&&"TEXTAREA"===i.nodeName&&!p.has(i)&&(u=l=d=null,s=function(){i.clientWidth!==l&&o()},a=function(t){window.removeEventListener("resize",s,!1),i.removeEventListener("input",o,!1),i.removeEventListener("keyup",o,!1),i.removeEventListener("autosize:destroy",a,!1),i.removeEventListener("autosize:update",o,!1),Object.keys(t).forEach(function(e){i.style[e]=t[e]}),p.delete(i)}.bind(i,{height:i.style.height,resize:i.style.resize,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap}),i.addEventListener("autosize:destroy",a,!1),"onpropertychange"in i&&"oninput"in i&&i.addEventListener("keyup",o,!1),window.addEventListener("resize",s,!1),i.addEventListener("input",o,!1),i.addEventListener("autosize:update",o,!1),i.style.overflowX="hidden",i.style.wordWrap="break-word",p.set(i,{destroy:a,update:o}),"vertical"===(e=window.getComputedStyle(i,null)).resize?i.style.resize="none":"both"===e.resize&&(i.style.resize="horizontal"),d="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(d)&&(d=0),o())}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},e.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),e});