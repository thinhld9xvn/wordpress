jQuery(function(r){var e={ready:function(){r('input[type=number][arial-required="true"]').keydown(this.inputNumberKeyDown).blur(this.inputNumberUnFocus)},handle:function(t){var a=t,n=r('*[arial-control="ratingstar"], input, textarea, select',a),i=null,o=!0;return n.each(function(){var t=r(this),a=t.prop("type"),n=!0;if("ratingstar"===t.attr("arial-control"))n=e.validateSRating(t);else switch(a){case"text":case"textarea":n=e.validateTBox(t);break;case"select-one":n=e.validateSlBox(t);break;case"radio":n=e.validateRBox(t);break;case"checkbox":n=e.validateCBox(t)}n||(null===i&&(i="radio"!==a&&"checkbox"!==a?t:t.next(".tvlInputBox")),o&&(o=!1))}),null!==i&&e.jumpToObjectErr(i),o},validateSRating:function(r){var t=!0,a="",n=r.find(" > .ratingStarPoint").attr("vpoint"),i=r.attr("arial-required"),o=r.attr("arial-required-err");return"true"===i&&(""===n||void 0===n?(""!==a&&(a+=" <br/> "),a+=e.msg_err_generate(o),t&&(t=!1)):e.error_removal(r)),t||e.err_generate(r,a),t},validateTBox:function(r){var t=!0,a="",n="",i=r.val(),o=r.attr("arial-required"),l=r.attr("arial-required-err"),u=parseInt(r.attr("arial-min-tlength")),d=parseInt(r.attr("arial-max-tlength")),s=r.attr("arial-tlength-err"),c=r.attr("arial-numberonly"),v=r.attr("arial-numberonly-err"),m=r.attr("arial-email"),g=r.attr("arial-email-err");if("true"===o&&(""===i?(""!==a&&(a+=" <br/> "),a+=e.msg_err_generate(l),t&&(t=!1)):e.error_removal(r)),u>0&&d>0&&u<d){var p=i.length;p<u||p>d?(""!==a&&(a+=" <br/> "),a+=e.msg_err_generate(s),t&&(t=!1)):e.error_removal(r)}return"true"===c&&(n=/^[0-9]+$/,n.test(i)?e.error_removal(r):(""!==a&&(a+=" <br/> "),a+=e.msg_err_generate(v),t&&(t=!1))),"true"===m&&(n=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,n.test(i)?e.error_removal(r):(""!==a&&(a+=" <br/> "),a+=e.msg_err_generate(g),t&&(t=!1))),t||e.err_generate(r,a),t},validateCBox:function(r){var t=!0,a="",n=r.is(":checked"),i=r.attr("arial-required"),o=r.attr("arial-required-err");return"true"===i&&(n?e.error_removal(r):(""!==a&&(a+=" <br/> "),a+=e.msg_err_generate(o),t&&(t=!1))),t||e.err_generate(r,a),t},validateSlBox:function(r){var t=!0,a="",n=r.val(),i=r.find("option[arial-option-empty]").val(),o=r.attr("arial-required"),l=r.attr("arial-required-err");return"true"===o&&(n===i?(""!==a&&(a+=" <br/> "),a+=e.msg_err_generate(l),t&&(t=!1)):e.error_removal(r)),t||e.err_generate(r,a),t},validateRBox:function(t){var a=!0,n="",i=r("input[type=radio][name="+t.attr("name")+"]"),o=i.is(":checked"),l=i.index(t),u=t.closest('*[arial-groupbox="true"]'),d=u.attr("arial-required"),s=u.attr("arial-required-err");return 0===l&&("true"===d&&(o?e.error_removal(t):(""!==n&&(n+=" <br/> "),n+=e.msg_err_generate(s),a&&(a=!1))),a||e.err_generate(t,n)),a},msg_err_generate:function(r){return'<span class="fa fa-exclamation-circle"></span> '+r},err_generate:function(e,t){var a=e.closest('*[arial-groupbox="true"]'),n=a.find("div.jvalidate_err");0===n.length?r("<div/>",{class:"jvalidate_err"}).html(t).attr("style","font-size: 14px !important; color: red !important; padding-left: 5px !important; margin: 5px 0 0 0 !important").appendTo(a):n.html(t)},error_removal:function(r){var e=r.closest('*[arial-groupbox="true"]'),t=e.find("div.jvalidate_err");t.length>0&&t.remove()},jumpToObjectErr:function(e){r("html, body").animate({scrollTop:e.offset().top-50},200)},inputNumberKeyDown:function(r){(r.keyCode<48||r.keyCode>57)&&(8===r.keyCode||46===r.keyCode||r.preventDefault())},inputNumberUnFocus:function(e){var t=r(this).val(),a=parseInt(r(this).attr("min"));return""===t?(alert("Mời nhập giá trị cho trường !"),r(this).val(a),!1):(t=parseInt(t),t<a?(alert("Giá trị nhập vào không được nhỏ hơn "+a+" !"),r(this).val(a),!1):void 0)}};e.ready(),r.fn.jvalidate=function(){return e.handle(r(this))}});