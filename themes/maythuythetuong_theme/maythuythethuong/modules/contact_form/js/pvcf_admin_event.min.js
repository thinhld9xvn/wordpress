jQuery(function(t){var a={ready:function(){t(".pvcf-modal-button").click(this.showPvcfModal),t("#pvcf-settings-save").click(this.saveSettingsModal)},showPvcfModal:function(a){var o=t(this).attr("data-target-modal");t(o).modal({escapeClose:!1,clickClose:!1,showClose:!1})},saveSettingsModal:function(a){a.preventDefault();var o=t(this).closest(".pvcf-modal").find(".pvcf-settings-class").val(),n=t("#pvcf-settings-hidden-class");n.val(o)}},o={ready:function(){t("#pvcf-button-export").click(this.onExportButtonClick),t("#btnImportChooseFile").change(this.onImportChooseFileClick)},onExportButtonClick:function(){var a={action:"sb_pvcf_admin_event_ajax",cmd:"export",post_id:t(this).attr("data-post-id")};t.post(ajaxurl,a).done(function(a){var o=a.split("/").pop(),n=t("<a id='pvcf_data_download' href='"+a+"' download='"+o+"'>download</a>");n[0].click()})},onImportChooseFileClick:function(a){var o=this.files[0],n=new FormData;o&&(t("#txtImportFilePath").val(o.name),n.append("action","sb_pvcf_admin_event_ajax"),n.append("cmd","import"),n.append("post_id",t(this).attr("data-post-id")),n.append("file",o),t.ajax({type:"POST",url:ajaxurl,data:n,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(t){window.location.reload()}}))}};a.ready(),o.ready()});